<mat-dialog-actions align="end">
  <button mat-button mat-dialog-close>Close</button>
</mat-dialog-actions>
<mat-dialog-content class="mat-typography">
  <h2 mat-dialog-title>
    {{ isEditMode() ? "редагування" : "створення" }} продукту "Вікна"
  </h2>

  <form [formGroup]="windowForm" class="content">
    <div class="product-constant__wrap">
      <mat-form-field appearance="outline" color="accent" style="width: 80%">
        <mat-label>Виробник</mat-label>
        <mat-select formControlName="productProducerName">
          <mat-option
            [value]="producer.name"
            *ngFor="let producer of windowProducers"
            >{{ producer.name }}</mat-option
          >
        </mat-select>
        <mat-error
          *ngIf="windowForm.get('productProducerName')?.hasError('required')"
        >
          Виробник є <strong>обов'язковим</strong>
        </mat-error>
      </mat-form-field>
      <button (click)="addProductProducer()" class="btn-circle" mat-icon-button>
        <mat-icon>add</mat-icon>
      </button>
    </div>
    <mat-form-field appearance="outline" color="accent">
      <mat-label>Назва продукту</mat-label>
      <input matInput formControlName="name" />
      <mat-error
        *ngIf="
          windowForm.get('name')?.errors &&
          !windowForm.get('name')?.hasError('required')
        "
      >
        Мінімум 3 символи
      </mat-error>
      <mat-error *ngIf="windowForm.get('name')?.hasError('required')">
        Назва є <strong>обов'язковою</strong>
      </mat-error>
    </mat-form-field>
    <mat-form-field appearance="outline" color="accent">
      <mat-label>Країна виробник</mat-label>
      <mat-select formControlName="country">
        <mat-option [value]="country.name" *ngFor="let country of countries">{{
          country.name
        }}</mat-option>
      </mat-select>
      <mat-error *ngIf="windowForm.get('country')?.hasError('required')">
        Країна є <strong>обов'язковою</strong>
      </mat-error>
    </mat-form-field>
    <mat-form-field appearance="outline" color="accent">
      <mat-label>Гарантійний термін</mat-label>
      <mat-select formControlName="guarantee">
        <mat-option
          [value]="guarantee.name"
          *ngFor="let guarantee of guarantees"
          >{{ guarantee.name }}</mat-option
        >
      </mat-select>
      <mat-error *ngIf="windowForm.get('guarantee')?.hasError('required')">
        Гарантійний термін є <strong>обов'язковим</strong>
      </mat-error>
    </mat-form-field>
    <mat-form-field appearance="outline" color="accent">
      <mat-label>Ціна</mat-label>
      <input type="number" matInput formControlName="price" />
      <mat-error *ngIf="windowForm.get('price')?.hasError('required')">
        Ціна є <strong>обов'язковою</strong> характеристикою
      </mat-error>
      <mat-error
        *ngIf="
          windowForm.get('price')?.errors &&
          !windowForm.get('price')?.hasError('required')
        "
      >
        Число має бути більшим за <strong>0</strong> (позитивним)
      </mat-error>
    </mat-form-field>
    <mat-form-field appearance="outline" color="accent">
      <mat-label>Наявність на складі</mat-label>
      <mat-select formControlName="inStock">
        <mat-option [value]="inStock.name" *ngFor="let inStock of inStocks">{{
          inStock.name
        }}</mat-option>
      </mat-select>
      <mat-error *ngIf="windowForm.get('inStock')?.hasError('required')">
        Наявність на складі є <strong>обов'язковою</strong>
      </mat-error>
    </mat-form-field>
    <div>
      <div class="product-constant__wrap">
        <mat-form-field appearance="outline" class="form-field" style="width: 80%;">
          <mat-label>Москітна сітка</mat-label>
          <mat-select
            class="form-field-input"
            formControlName="mosquitoNet"
            multiple
          >
          <mat-option *ngFor="let item of mosquitoNetItems" [value]="item.name">{{item.name}} {{item.price}}.00 грн</mat-option>
        </mat-select>
        </mat-form-field>
        <button
          (click)="addMosquitoNet()"
          class="btn-circle"
          mat-icon-button
        >
          <mat-icon>add</mat-icon>
        </button>
      </div>
      <p>{{ slashStylingOfFormField("mosquitoNet") }}</p>
    </div>
    <div>
      <div class="product-constant__wrap">
        <mat-form-field appearance="outline" class="form-field" style="width: 80%;">
          <mat-label>Підвіконня</mat-label>
          <mat-select
            class="form-field-input"
            formControlName="windowSill"
            multiple
          >
          <mat-option *ngFor="let item of windowSillItems" [value]="item.name">{{item.name}} {{item.price}}.00 грн</mat-option>
        </mat-select>
        </mat-form-field>
        <button
          (click)="addWindowSill()"
          class="btn-circle"
          mat-icon-button
        >
          <mat-icon>add</mat-icon>
        </button>
      </div>
      <p>{{ slashStylingOfFormField("windowSill") }}</p>
    </div>
    <div>
      <div class="product-constant__wrap">
        <mat-form-field appearance="outline" class="form-field" style="width: 80%;">
          <mat-label>Відлив</mat-label>
          <mat-select
            class="form-field-input"
            formControlName="windowEbb"
            multiple
          >
          <mat-option *ngFor="let item of windowEbbItems" [value]="item.name">{{item.name}} {{item.price}}.00 грн</mat-option>
        </mat-select>
        </mat-form-field>
        <button
          (click)="addWindowEbb()"
          class="btn-circle"
          mat-icon-button
        >
          <mat-icon>add</mat-icon>
        </button>
      </div>
      <p>{{ slashStylingOfFormField("windowEbb") }}</p>
    </div>
    <div>
      <div class="product-constant__wrap">
        <mat-form-field appearance="outline" class="form-field" style="width: 80%;">
          <mat-label>Віконна ручка</mat-label>
          <mat-select
            class="form-field-input"
            formControlName="windowHand"
            multiple
          >
          <mat-option *ngFor="let item of windowHandItems" [value]="item.name">{{item.name}} {{item.price}}.00 грн</mat-option>
        </mat-select>
        </mat-form-field>
        <button
          (click)="addWindowHand()"
          class="btn-circle"
          mat-icon-button
        >
          <mat-icon>add</mat-icon>
        </button>
      </div>
      <p>{{ slashStylingOfFormField("windowHand") }}</p>
    </div>
    <div>
      <div class="product-constant__wrap">
        <mat-form-field appearance="outline" class="form-field" style="width: 80%;">
          <mat-label>Дитячий замок</mat-label>
          <mat-select
            class="form-field-input"
            formControlName="childLock"
            multiple
          >
          <mat-option *ngFor="let item of childLockItems" [value]="item.name">{{item.name}} {{item.price}}.00 грн</mat-option>
        </mat-select>
        </mat-form-field>
        <button
          (click)="addChildLock()"
          class="btn-circle"
          mat-icon-button
        >
          <mat-icon>add</mat-icon>
        </button>
      </div>
      <p>{{ slashStylingOfFormField("childLock") }}</p>
    </div>
    <div>
      <div class="product-constant__wrap">
        <mat-form-field appearance="outline" class="form-field" style="width: 80%;">
          <mat-label>Заглушка домогосподарки</mat-label>
          <mat-select
            class="form-field-input"
            formControlName="housewifeStub"
            multiple
          >
          <mat-option *ngFor="let item of housewifeStubItems" [value]="item.name">{{item.name}} {{item.price}}.00 грн</mat-option>
        </mat-select>
        </mat-form-field>
        <button
          (click)="addHousewifeStub()"
          class="btn-circle"
          mat-icon-button
        >
          <mat-icon>add</mat-icon>
        </button>
      </div>
      <p>{{ slashStylingOfFormField("housewifeStub") }}</p>
    </div>
    <div>
      <div class="product-constant__wrap">
        <mat-form-field appearance="outline" class="form-field" style="width: 80%;">
          <mat-label>Доповнення до стеклопакету</mat-label>
          <mat-select
            class="form-field-input"
            formControlName="glassPocketAdd"
            multiple
          >
          <mat-option *ngFor="let item of glassPocketAddItems" [value]="item.name">{{item.name}} {{item.price}}.00 грн</mat-option>
        </mat-select>
        </mat-form-field>
        <button
          (click)="addGlassPocketAdd()"
          class="btn-circle"
          mat-icon-button
        >
          <mat-icon>add</mat-icon>
        </button>
      </div>
      <p>{{ slashStylingOfFormField("glassPocketAdd") }}</p>
    </div>
    <div>
      <div class="product-constant__wrap">
        <mat-form-field appearance="outline" class="form-field" style="width: 80%;">
          <mat-label>Ламінація</mat-label>
          <mat-select
            class="form-field-input"
            formControlName="lamination"
            multiple
          >
          <mat-option *ngFor="let item of laminationItems" [value]="item.name">{{item.name}} {{item.price}}.00 грн</mat-option>
        </mat-select>
        </mat-form-field>
        <button
          (click)="addLamination()"
          class="btn-circle"
          mat-icon-button
        >
          <mat-icon>add</mat-icon>
        </button>
      </div>
      <p>{{ slashStylingOfFormField("lamination") }}</p>
    </div>
    <div>
      <div class="product-constant__wrap">
        <mat-form-field appearance="outline" class="form-field" style="width: 80%;">
          <mat-label>Профіль</mat-label>
          <mat-select
            class="form-field-input"
            formControlName="profile"
            multiple
          >
          <mat-option *ngFor="let item of profileItems" [value]="item.name">{{item.name}} {{item.price}}.00 грн</mat-option>
        </mat-select>
        </mat-form-field>
        <button
          (click)="addProfile()"
          class="btn-circle"
          mat-icon-button
        >
          <mat-icon>add</mat-icon>
        </button>
      </div>
      <p>{{ slashStylingOfFormField("profile") }}</p>
    </div>
    <div>
      <div class="product-constant__wrap">
        <mat-form-field appearance="outline" class="form-field" style="width: 80%;">
          <mat-label>Кількість камер</mat-label>
          <mat-select
            class="form-field-input"
            formControlName="camerasCount"
            multiple
          >
          <mat-option *ngFor="let item of camerasCountItems" [value]="item.name">{{item.name}}</mat-option>
        </mat-select>
        </mat-form-field>
        <button
          (click)="addCamerasCount()"
          class="btn-circle"
          mat-icon-button
        >
          <mat-icon>add</mat-icon>
        </button>
      </div>
      <p>{{ slashStylingOfFormField("camerasCount") }}</p>
    </div>
    <div>
      <div class="product-constant__wrap">
        <mat-form-field appearance="outline" class="form-field" style="width: 80%;">
          <mat-label>Особливості</mat-label>
          <mat-select
            class="form-field-input"
            formControlName="features"
            multiple
          >
          <mat-option *ngFor="let item of featuresItems" [value]="item.name">{{item.name}}</mat-option>
        </mat-select>
        </mat-form-field>
        <button
          (click)="addFeatures()"
          class="btn-circle"
          mat-icon-button
        >
          <mat-icon>add</mat-icon>
        </button>
      </div>
      <p>{{ slashStylingOfFormField("features") }}</p>
    </div>
    <div>
      <div class="product-constant__wrap">
        <mat-form-field appearance="outline" class="form-field" style="width: 80%;">
          <mat-label>Кількість секцій</mat-label>
          <mat-select
            class="form-field-input"
            formControlName="sectionCount"
            multiple
          >
          <mat-option *ngFor="let item of sectionCountItems" [value]="item.name">{{item.name}}</mat-option>
        </mat-select>
        </mat-form-field>
        <button
          (click)="addSectionCount()"
          class="btn-circle"
          mat-icon-button
        >
          <mat-icon>add</mat-icon>
        </button>
      </div>
      <p>{{ slashStylingOfFormField("sectionCount") }}</p>
    </div>


    <div class="product-constant__wrap">
      <input type="checkbox" formControlName="homePage" />
      <label>Відображати на головній сторінці</label>
    </div>
    <div>
      <textarea
        formControlName="description"
        placeholder="Опис"
        style="width: 100%; min-height: 20vh"
      >
      </textarea>
    </div>
    <div class="add-images__wrap">
      <h3 class="font-h2 add-images__title">Завантажити папку з фотографіями</h3>
      <input class="add-images__btn" type="file" (change)="onImagesFolderSelected($event)" webkitdirectory multiple/>
    </div>
    <div class="add-images__preview-wrap" *ngIf="imagesFiles.length > 0">
      <h3 class="font-h2 add-images__title">Змінити порядок фотографій</h3>
      <div class="add-images__preview-items-wrap"   cdkDropList
      #fileList="cdkDropList"
      [cdkDropListData]="imagesFiles"
      (cdkDropListDropped)="drop($event)"
      cdkDropListOrientation="horizontal"
      >
        <div class="add-images__preview-item-wrap" cdkDrag *ngFor="let image of imagesFiles; let i = index">
          <img [src]="imagesFilesPreview[i]" alt="">
          <p matLine>{{ image.name }}</p>
        </div>
      </div>
      

    </div>
    <div class="btn-create">
      <button mat-raised-button color="accent" (click)="submit()">
        {{ isEditMode() ? "Редагувати" : "Створити" }}
      </button>
    </div>
  </form>
</mat-dialog-content>
